mutate(`Post Entry` = (`Turnover Type` == "Post Entry"),
`Perimeter/Strip` = (`Turnover Type` == "Perimeter/Strip"),
`Drive` = (`Turnover Type` == "Drive"),
`Drive + Pass` = (`Turnover Type` == "Drive + Pass"),
`Reversal/Pass` = (`Turnover Type` == "Reversal/Pass"),
`Off-Ball` = (`Turnover Type` == "Off-Ball")) %>%
group_by(Player) %>%
summarize(`Post Entry` = sum(`Post Entry`),
`Perimeter/Strip` = sum(`Perimeter/Strip`),
`Drive` = sum(`Drive`),
`Drive + Pass` = sum(`Drive + Pass`),
`Reversal/Pass` = sum(`Reversal/Pass`),
`Off-Ball` = sum(`Off-Ball`),
Total = n()) %>%
ungroup() %>%
adorn_totals("row") %>%
gt() %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_column_labels(columns = everything())) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = Total)) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(rows = Player == "Total")) %>%
tab_header(title = md("Turnover Type by Player"),
subtitle = "2022 Preseason | UChicago Men's Basketball Team") %>%
tab_footnote(footnote = "Includes travels, double-dribbles, out-of-bounds (unless occuring on a drive)",
locations = cells_column_labels(columns = `Perimeter/Strip`)) %>%
tab_footnote(footnote = "Includes illegal screens, three-in-the-key",
locations = cells_column_labels(columns = `Off-Ball`))
raw_turnovers %>%
filter(Date %in% mbb_game_dates,
Player %in% players) %>%
mutate(`Post Entry` = (`Turnover Type` == "Post Entry"),
`Perimeter/Strip` = (`Turnover Type` == "Perimeter/Strip"),
`Drive` = (`Turnover Type` == "Drive"),
`Drive + Pass` = (`Turnover Type` == "Drive + Pass"),
`Reversal/Pass` = (`Turnover Type` == "Reversal/Pass"),
`Off-Ball` = (`Turnover Type` == "Off-Ball")) %>%
group_by(Player) %>%
summarize(`Post Entry` = sum(`Post Entry`),
`Perimeter/Strip` = sum(`Perimeter/Strip`),
`Drive` = sum(`Drive`),
`Drive + Pass` = sum(`Drive + Pass`),
`Reversal/Pass` = sum(`Reversal/Pass`),
`Off-Ball` = sum(`Off-Ball`),
Total = n()) %>%
ungroup() %>%
adorn_totals("row") %>%
gt() %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_column_labels(columns = everything())) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = Total)) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(rows = Player == "Total")) %>%
tab_header(title = md("Turnover Type by Player"),
subtitle = "2022 Preseason | UChicago Men's Basketball Team") %>%
tab_footnote(footnote = "Includes travels, double-dribbles, out-of-bounds (unless occuring on a drive)",
locations = cells_column_labels(columns = `Perimeter/Strip`)) %>%
tab_footnote(footnote = "Includes illegal screens, three-in-the-key, away-from-the-ball offensive fouls",
locations = cells_column_labels(columns = `Off-Ball`))
raw_turnovers %>%
filter(Date %in% mbb_game_dates,
Player %in% players) %>%
mutate(`Post Entry` = (`Turnover Type` == "Post Entry"),
`Perimeter/Strip` = (`Turnover Type` == "Perimeter/Strip"),
`Drive` = (`Turnover Type` == "Drive"),
`Drive + Pass` = (`Turnover Type` == "Drive + Pass"),
`Reversal/Pass` = (`Turnover Type` == "Reversal/Pass"),
`Off-Ball` = (`Turnover Type` == "Off-Ball")) %>%
group_by(Player) %>%
summarize(`Post Entry` = sum(`Post Entry`),
`Perimeter/Strip` = sum(`Perimeter/Strip`),
`Drive` = sum(`Drive`),
`Drive + Pass` = sum(`Drive + Pass`),
`Reversal/Pass` = sum(`Reversal/Pass`),
`Off-Ball` = sum(`Off-Ball`),
Total = n()) %>%
ungroup() %>%
arrange(desc(Total)) %>%
adorn_totals("row") %>%
gt() %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_column_labels(columns = everything())) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = Total)) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(rows = Player == "Total")) %>%
tab_header(title = md("Turnover Type by Player"),
subtitle = "2022 Preseason | UChicago Men's Basketball Team") %>%
tab_footnote(footnote = "Includes travels, double-dribbles, out-of-bounds (unless occuring on a drive)",
locations = cells_column_labels(columns = `Perimeter/Strip`)) %>%
tab_footnote(footnote = "Includes illegal screens, three-in-the-key, away-from-the-ball offensive fouls",
locations = cells_column_labels(columns = `Off-Ball`))
library(tidyverse)
library(gt)
library(gsheet)
rm(list = ls())
mbb_url <- "https://docs.google.com/spreadsheets/d/1BcIP7CIYDTNnedcRG3U3HAIwluaJtz8LCAKfArlEh98/edit#gid=2032963821"
wbb_url <- "https://docs.google.com/spreadsheets/d/12JWqAMfVrSZobLohmxQK6PyrbNbOQbM6ux4LxXqWenM/edit#gid=2032963821"
mens_team <- TRUE
date <- "12/3/22"
opponent <- "Wheaton"
if (mens_team) {
url <- mbb_url
raw_posts <- gsheet2tbl("https://docs.google.com/spreadsheets/d/1BcIP7CIYDTNnedcRG3U3HAIwluaJtz8LCAKfArlEh98/edit#gid=1904120862")
raw_turnovers <- gsheet2tbl("https://docs.google.com/spreadsheets/d/1BcIP7CIYDTNnedcRG3U3HAIwluaJtz8LCAKfArlEh98/edit#gid=2056191088")
} else {
url <- wbb_url
raw_posts <- gsheet2tbl("https://docs.google.com/spreadsheets/d/12JWqAMfVrSZobLohmxQK6PyrbNbOQbM6ux4LxXqWenM/edit#gid=748348799")
raw_turnovers <- gsheet2tbl("https://docs.google.com/spreadsheets/d/12JWqAMfVrSZobLohmxQK6PyrbNbOQbM6ux4LxXqWenM/edit#gid=2056191088")
}
raw_shots <- gsheet2tbl(url) %>%
mutate(Region = case_when(
Region == 'P' ~ "Paint",
Region == 'LC' ~ "Left Corner",
Region == 'RC' ~ "Right Corner",
Region == 'LW' ~ "Left Wing",
Region == 'RW' ~ "Right Wing",
Region == 'T' ~ "Top",
Region == 'TK' ~ "Top of Key",
Region == 'RE' ~ "Right Elbow",
Region == 'LE' ~ "Left Elbow",
Region == 'RB' ~ "Right Baseline",
Region == 'LB' ~ "Left Baseline"
),
Range = case_when(
(Region == 'Left Corner') |
(Region == 'Left Wing') |
(Region == 'Top') |
(Region == 'Right Wing') |
(Region == 'Right Corner') ~ "3",
TRUE ~ "2"
),
`Shot Type` = case_when(
`Shot Type` == 'S' ~ "Catch & Shoot (Set)",
`Shot Type` == 'M' ~ "Catch & Shoot (Moving)",
`Shot Type` == 'L' ~ "Layup",
`Shot Type` == 'F' ~ "Floater",
`Shot Type` == 'H' ~ "Hook Shot",
`Shot Type` == 'B' ~ "Stepback",
`Shot Type` == 'P' ~ "Pull-Up"
))
raw_shots <- filter(raw_shots, Date == date)
raw_posts <- filter(raw_posts, Date == date)
raw_turnovers <- filter(raw_turnovers, Date == date)
raw_turnovers %>%
filter(Player != opponent) %>%
group_by(`Turnover Type`) %>%
summarize(Count = n()) %>%
ungroup() %>%
arrange(desc(Count)) %>%
gt()
raw_turnovers %>%
filter(Player != opponent) %>%
group_by(Player) %>%
summarize(Count = n()) %>%
ungroup() %>%
arrange(desc(Count)) %>%
gt()
raw_posts %>%
mutate(Outcome = case_when(
Outcome == 0 ~ "Miss",
Outcome == 1 ~ "Make",
TRUE ~ Outcome
)) %>%
filter(Player != opponent) %>%
group_by(Outcome) %>%
summarize(Count = n()) %>%
ungroup() %>%
arrange(desc(Count)) %>%
gt()
mbb_game_dates <- c("11/10/22", "11/12/22", "11/13/22", "11/18/22", "11/19/22", "11/26/22", "11/30/22")
players <- c('Alec Bryan', 'Kerem Ozturk', 'Leonardo Edo', 'Skyler Twyman', 'Ezra Moos', 'Thomas Kurowski', 'Dashiel Walker', 'Elliot Paschal', 'Arrish Bhandal', 'Josh Preston', 'Jackson Piotrowski', 'Bryce Hopkins', 'Tola Olorode', 'Joe Berry', 'Ben Chasin', 'Blake Hawthorne', 'Eamonn Kenah', 'Alex Battist')
library(janitor)
raw_turnovers %>%
filter(~Date %in% mbb_game_dates,
Player %in% players) %>%
mutate(`Post Entry` = (`Turnover Type` == "Post Entry"),
`Perimeter/Strip` = (`Turnover Type` == "Perimeter/Strip"),
`Drive` = (`Turnover Type` == "Drive"),
`Drive + Pass` = (`Turnover Type` == "Drive + Pass"),
`Reversal/Pass` = (`Turnover Type` == "Reversal/Pass"),
`Off-Ball` = (`Turnover Type` == "Off-Ball")) %>%
group_by(Player) %>%
summarize(`Post Entry` = sum(`Post Entry`),
`Perimeter/Strip` = sum(`Perimeter/Strip`),
`Drive` = sum(`Drive`),
`Drive + Pass` = sum(`Drive + Pass`),
`Reversal/Pass` = sum(`Reversal/Pass`),
`Off-Ball` = sum(`Off-Ball`),
Total = n()) %>%
ungroup() %>%
arrange(desc(Total)) %>%
adorn_totals("row") %>%
gt() %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_column_labels(columns = everything())) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = Total)) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(rows = Player == "Total")) %>%
tab_header(title = md("Turnover Type by Player"),
subtitle = "2022 Preseason | UChicago Men's Basketball Team") %>%
tab_footnote(footnote = "Includes travels, double-dribbles, out-of-bounds (unless occuring on a drive)",
locations = cells_column_labels(columns = `Perimeter/Strip`)) %>%
tab_footnote(footnote = "Includes illegal screens, three-in-the-key, away-from-the-ball offensive fouls",
locations = cells_column_labels(columns = `Off-Ball`))
raw_turnovers %>%
filter(!Date %in% mbb_game_dates,
Player %in% players) %>%
mutate(`Post Entry` = (`Turnover Type` == "Post Entry"),
`Perimeter/Strip` = (`Turnover Type` == "Perimeter/Strip"),
`Drive` = (`Turnover Type` == "Drive"),
`Drive + Pass` = (`Turnover Type` == "Drive + Pass"),
`Reversal/Pass` = (`Turnover Type` == "Reversal/Pass"),
`Off-Ball` = (`Turnover Type` == "Off-Ball")) %>%
group_by(Player) %>%
summarize(`Post Entry` = sum(`Post Entry`),
`Perimeter/Strip` = sum(`Perimeter/Strip`),
`Drive` = sum(`Drive`),
`Drive + Pass` = sum(`Drive + Pass`),
`Reversal/Pass` = sum(`Reversal/Pass`),
`Off-Ball` = sum(`Off-Ball`),
Total = n()) %>%
ungroup() %>%
arrange(desc(Total)) %>%
adorn_totals("row") %>%
gt() %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_column_labels(columns = everything())) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = Total)) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(rows = Player == "Total")) %>%
tab_header(title = md("Turnover Type by Player"),
subtitle = "2022 Preseason | UChicago Men's Basketball Team") %>%
tab_footnote(footnote = "Includes travels, double-dribbles, out-of-bounds (unless occuring on a drive)",
locations = cells_column_labels(columns = `Perimeter/Strip`)) %>%
tab_footnote(footnote = "Includes illegal screens, three-in-the-key, away-from-the-ball offensive fouls",
locations = cells_column_labels(columns = `Off-Ball`))
raw_turnovers
if (mens_team) {
url <- mbb_url
raw_posts <- gsheet2tbl("https://docs.google.com/spreadsheets/d/1BcIP7CIYDTNnedcRG3U3HAIwluaJtz8LCAKfArlEh98/edit#gid=1904120862")
raw_turnovers <- gsheet2tbl("https://docs.google.com/spreadsheets/d/1BcIP7CIYDTNnedcRG3U3HAIwluaJtz8LCAKfArlEh98/edit#gid=2056191088")
} else {
url <- wbb_url
raw_posts <- gsheet2tbl("https://docs.google.com/spreadsheets/d/12JWqAMfVrSZobLohmxQK6PyrbNbOQbM6ux4LxXqWenM/edit#gid=748348799")
raw_turnovers <- gsheet2tbl("https://docs.google.com/spreadsheets/d/12JWqAMfVrSZobLohmxQK6PyrbNbOQbM6ux4LxXqWenM/edit#gid=2056191088")
}
raw_turnovers %>%
filter(!Date %in% mbb_game_dates,
Player %in% players) %>%
mutate(`Post Entry` = (`Turnover Type` == "Post Entry"),
`Perimeter/Strip` = (`Turnover Type` == "Perimeter/Strip"),
`Drive` = (`Turnover Type` == "Drive"),
`Drive + Pass` = (`Turnover Type` == "Drive + Pass"),
`Reversal/Pass` = (`Turnover Type` == "Reversal/Pass"),
`Off-Ball` = (`Turnover Type` == "Off-Ball")) %>%
group_by(Player) %>%
summarize(`Post Entry` = sum(`Post Entry`),
`Perimeter/Strip` = sum(`Perimeter/Strip`),
`Drive` = sum(`Drive`),
`Drive + Pass` = sum(`Drive + Pass`),
`Reversal/Pass` = sum(`Reversal/Pass`),
`Off-Ball` = sum(`Off-Ball`),
Total = n()) %>%
ungroup() %>%
arrange(desc(Total)) %>%
adorn_totals("row") %>%
gt() %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_column_labels(columns = everything())) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = Total)) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(rows = Player == "Total")) %>%
tab_header(title = md("Turnover Type by Player"),
subtitle = "2022 Preseason | UChicago Men's Basketball Team") %>%
tab_footnote(footnote = "Includes travels, double-dribbles, out-of-bounds (unless occuring on a drive)",
locations = cells_column_labels(columns = `Perimeter/Strip`)) %>%
tab_footnote(footnote = "Includes illegal screens, three-in-the-key, away-from-the-ball offensive fouls",
locations = cells_column_labels(columns = `Off-Ball`))
read_csv("teams_traditional.csv")
library(tidyverse)
library(ggplot2)
library(ggimage)
read_csv("teams_traditional.csv")
setwd("/Users/jeremydumalig/Documents/GitHub/Rebound-Rates")
read_csv("teams_traditional.csv")
View(read_csv("teams_traditional.csv"))
read_csv("teams_opponent.csv")
opponent <-
read_csv("teams_opponent.csv") %>%
select(TEAM, GP, `OPP\nTOV`)
traditional <-
read_csv("teams_traditional.csv") %>%
select(TEAM, GP, TOV)
opponent <-
read_csv("teams_opponent.csv") %>%
select(TEAM, GP, `OPP\nTOV`)
logos <-
read_csv("https://raw.githubusercontent.com/jeremydumalig/DataBank/master/logos.csv") %>%
select(TEAM, URL)
rm(list = ls())
traditional <-
read_csv("teams_traditional.csv") %>%
select(TEAM, GP, TOV)
opponent <-
read_csv("teams_opponent.csv") %>%
select(TEAM, GP, `OPP\nTOV`)
logos <-
read_csv("https://raw.githubusercontent.com/jeremydumalig/DataBank/master/logos.csv") %>%
select(TEAM, URL)
View(opponent)
View(traditional)
library(tidyverse)
library(ggplot2)
library(ggimage)
rm(list = ls())
traditional <-
read_csv("teams_traditional.csv") %>%
select(TEAM, GP, TOV)
opponent <-
read_csv("teams_opponent.csv") %>%
select(TEAM, `OPP\nTOV`)
logos <-
read_csv("https://raw.githubusercontent.com/jeremydumalig/DataBank/master/logos.csv") %>%
select(TEAM, URL)
teams <-
merge(traditional,
opponent,
by='TEAM') %>%
mutate(TOV = TOV / GP,
`OPP TOV` = `OPP\nTOV` / GP) %>%
select(TEAM, TOV, `OPP TOV`) %>%
merge(logos,
by='TEAM')
teams %>%
ggplot(aes(x=`d_ORB%`,
y=`d_DRB%`)) +
geom_hline(yintercept=0, linetype="dashed") +
geom_vline(xintercept=0, linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Who are the best and worst rebounding teams?",
subtitle="NBA Regular Season | Through December 25, 2022",
caption="* Compared to League Average",
x="Offensive Rebound Rate* (ORB%)",
y="Defensive Rebound Rate* (DRB%)") +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
View(teams)
teams <-
merge(traditional,
opponent,
by='TEAM') %>%
mutate(TOV = TOV / GP,
`OPP TOV` = `OPP\nTOV` / GP,
d_TOV = round(TOV - mean(TOV), 1),
d_OPPTOV = round(`OPP TOV` - mean(`OPP TOV`), 1)) %>%
select(TEAM, TOV, `OPP TOV`, d_TOV, d_OPPTOV) %>%
merge(logos,
by='TEAM')
library(tidyverse)
library(ggplot2)
library(ggimage)
rm(list = ls())
traditional <-
read_csv("teams_traditional.csv") %>%
select(TEAM, GP, TOV)
opponent <-
read_csv("teams_opponent.csv") %>%
select(TEAM, `OPP\nTOV`)
logos <-
read_csv("https://raw.githubusercontent.com/jeremydumalig/DataBank/master/logos.csv") %>%
select(TEAM, URL)
teams <-
merge(traditional,
opponent,
by='TEAM') %>%
mutate(TOV = TOV / GP,
`OPP TOV` = `OPP\nTOV` / GP,
d_TOV = round(TOV - mean(TOV), 1),
d_OPPTOV = round(`OPP TOV` - mean(`OPP TOV`), 1)) %>%
select(TEAM, TOV, `OPP TOV`, d_TOV, d_OPPTOV) %>%
merge(logos,
by='TEAM')
teams %>%
ggplot(aes(x=`d_TOV`,
y=`d_OPP TOV`)) +
geom_hline(yintercept=0, linetype="dashed") +
geom_vline(xintercept=0, linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Which teams commit and force the most turnovers?",
subtitle="NBA Regular Season | Through December 25, 2022",
caption="* Compared to League Average",
x="Turnovers Per Game",
y="Opponent Turnovers Per Game") +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
teams %>%
ggplot(aes(x=d_TOV,
y=d_OPPTOV)) +
geom_hline(yintercept=0, linetype="dashed") +
geom_vline(xintercept=0, linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Which teams commit and force the most turnovers?",
subtitle="NBA Regular Season | Through December 25, 2022",
caption="* Compared to League Average",
x="Turnovers Per Game",
y="Opponent Turnovers Per Game") +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
teams %>%
ggplot(aes(x=d_TOV,
y=d_OPPTOV)) +
geom_hline(yintercept=0, linetype="dashed") +
geom_vline(xintercept=0, linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Which teams commit and force the most turnovers?",
subtitle="NBA Regular Season | Through December 25, 2022",
caption="* Compared to League Average *",
x="Turnovers Per Game *",
y="Opponent Turnovers Per Game") +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
teams %>%
ggplot(aes(x=d_TOV,
y=d_OPPTOV)) +
geom_hline(yintercept=0, linetype="dashed") +
geom_vline(xintercept=0, linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Which teams commit and force the most turnovers?",
subtitle="NBA Regular Season | Through December 25, 2022",
caption="* Compared to League Average *",
x="Turnovers Per Game *",
y="Forced Turnovers Per Game") +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
